library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity breath_tb is
end breath_tb;

architecture sim of breath_tb is
    signal clk   : std_logic := '0';
    signal rst   : std_logic := '0';
    signal led_o : std_logic;
    
    constant CLK_PERIOD : time := 20 ns;  -- 50 MHz
begin
    -- DUT
    uut: entity work.breath
        port map (
            i_clk => clk,
            i_rst => rst,
            o_led => led_o
        );

    -- Clock generator
    clk_process: process
    begin
        clk <= '0';
        wait for CLK_PERIOD/2;
        clk <= '1';
        wait for CLK_PERIOD/2;
    end process;

    -- Reset and simulation time control
    stim_proc: process
    begin
        rst <= '0';
        wait for 10 ns;
        rst <= '1';
        
        wait for 5 ms;  -- 模擬長一點，方便看到呼吸效果
        report "Simulation finished";
        wait;
    end process;
end sim;
